import React from 'react';
import { View } from 'react-native';
import type { Meta, StoryObj } from '@storybook/react';
import SwapFeeDetailsSheet from './SwapFeeDetailsSheet';
import {
  ETH,
  GetSingleInputSwapQuoteReturnType,
  MOCK_TOKEN_AMOUNT,
} from '@raylac/shared';

const mockQuote: GetSingleInputSwapQuoteReturnType = {
  approveStep: {
    id: 'approve',
    tx: {
      data: '0x095ea7b300000000000000000000000077a917df7a084b7b3e43517ae28373c2a549262500000000000000000000000000000000000000000000000000000000000f4240',
      to: '0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913',
      value: '0',
      maxFeePerGas: '7444825',
      maxPriorityFeePerGas: '1153823',
      chainId: 8453,
      gas: 73112,
      nonce: 136,
    },
  },
  swapStep: {
    originChainId: 8453,
    destinationChainId: 8453,
    tx: {
      data: '0x5caab55a00000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000014000000000000000000000000000000000000000000000000000000000000001a0000000000000000000000000000000000000000000000000000000000000042000000000000000000000000028341df2ccabe2cc4a3c6e7ef2fe9e706680c1960000000000000000000000000000000000000000000000000000000000000001000000000000000000000000833589fcd6edb6e08f4c7c32d4f71b54bda02913000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000f42400000000000000000000000000000000000000000000000000000000000000002000000000000000000000000833589fcd6edb6e08f4c7c32d4f71b54bda02913000000000000000000000000f2614a233c7c3e7f08b1f887ba133a13f1eb2c550000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000f2614a233c7c3e7f08b1f887ba133a13f1eb2c5500000000000000000000000000000000000000000000000000000000000f42400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001642646478b000000000000000000000000833589fcd6edb6e08f4c7c32d4f71b54bda0291300000000000000000000000000000000000000000000000000000000000f4240000000000000000000000000eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee00000000000000000000000000000000000000000000000000011527479bf337000000000000000000000000a1bea5fe917450041748dbbbe7e9ac57a4bbebab00000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000007002833589fcd6edb6e08f4c7c32d4f71b54bda0291301ffff01482fe995c4a52bc79271ab29a53591363ee30a8900f2614a233c7c3e7f08b1f887ba133a13f1eb2c5501420000000000000000000000000000000000000601ffff0200a1bea5fe917450041748dbbbe7e9ac57a4bbebab0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fb83f5cbb82393897998723b88af15444981487e7b0813cc32d953712f7dac8c',
      to: '0x77a917df7a084b7b3e43517ae28373c2a5492625',
      value: '0',
      maxFeePerGas: '7444825',
      maxPriorityFeePerGas: '1153823',
      chainId: 8453,
      gas: 300000,
      nonce: 137,
    },
  },
  originChainGas: MOCK_TOKEN_AMOUNT,
  amountIn: MOCK_TOKEN_AMOUNT,
  amountOut: MOCK_TOKEN_AMOUNT,
  relayerGasToken: ETH,
  relayerGas: MOCK_TOKEN_AMOUNT,
  relayerServiceFeeToken: ETH,
  relayerServiceFee: MOCK_TOKEN_AMOUNT,
  relayRequestId:
    '0xfb83f5cbb82393897998723b88af15444981487e7b0813cc32d953712f7dac8c',
  totalFeeUsd: '0.0029',
  fromChainId: 8453,
  toChainId: 8453,
  slippagePercent: 0.01,
  minimumAmountOut: MOCK_TOKEN_AMOUNT,
};

const meta = {
  title: 'SwapFeeDetailsSheet',
  component: SwapFeeDetailsSheet,
  args: {
    isOpen: true,
    swapQuote: mockQuote,
    onClose: () => {},
  },
  decorators: [
    Story => (
      <View style={{ padding: 16, flex: 1 }}>
        <Story />
      </View>
    ),
  ],
} satisfies Meta<typeof SwapFeeDetailsSheet>;

export default meta;

type Story = StoryObj<typeof meta>;

export const Basic: Story = {};
