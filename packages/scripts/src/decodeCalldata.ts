import { ERC20Abi, SutoriAccountAbi } from '@sutori/shared';
import { Hex, decodeFunctionData } from 'viem';

const decodeCalldata = () => {
  const calldata =
    '0xb61d27f6000000000000000000000000036cbd53842c5426634e7929541ec2318f3dcf7e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000044a9059cbb00000000000000000000000094f149b27065aa60ef053788f6b8a60c53c001d4000000000000000000000000000000000000000000000000000000000098968000000000000000000000000000000000000000000000000000000000';

  const executeDecoded = decodeFunctionData({
    abi: SutoriAccountAbi,
    data: calldata,
  });

  const functionData = executeDecoded.args[2];

  const transfer = decodeFunctionData({
    abi: ERC20Abi,
    data: functionData as Hex,
  });

  console.log(transfer);
};

decodeCalldata();
